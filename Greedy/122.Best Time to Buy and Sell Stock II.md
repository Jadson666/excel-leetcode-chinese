# 題目
https://leetcode.com/problems/best-time-to-buy-and-sell-stock-ii/description/

# 開始分析
- 本題目背後的核心概念
  - 如何定義貪婪問題的「局部最優」是貪婪法的關鍵。雖然簡單的貪婪看起來十分直覺，但是建議練習定義「局部最優」的思維
  - 定義「局部最優」：若當天價格比前一天高，代表當天有賺。加總所有賺的利潤即是整體利潤（貪婪法中，局部最優總和即為整體最優）
- 如何從問題推導出使用的解題工具
  - 無
- 如何推導出最優複雜度
  - 時間複雜度：遍歷一次 -> O(n)
  - 空間複雜度：無額外使用空間 -> O(1)

### 貪婪法

##### 如何解釋解題思路

這題其實有很多解法，因為可以反覆買、賣，第一直覺可能是找峰值去決定買點、賣點。也能透過定義子問題「第K天的最大利潤」用DP解。
但如果想到最終利潤是可以分解的，那便能透過定義出貪婪的局部最優解輕鬆搞定。
範例來說，[1,2,3,4]的最大利潤為第一天買入，第四天賣出總共賺3塊，但也可以分解成：第一天買第二天賣＋第二天買第三天賣＋第三天買第四天賣，也是賺四塊。
簡單來說，將所有交易分解為隔日沖（股票交易術語）並取每天的局部最優解。最後的總利潤就是最佳利潤。

定義局部貪婪問題：如果今天價格比昨天高，則進行隔日沖以取得最大利潤。

##### 經分析後，本題詳細步驟如下：

1. 除了首日，遞迴遍歷所有剩餘日期
2. 如果今天價格比昨天高，則進行隔日沖以取得最大利潤
3. 遍歷結束，回傳總利潤

時間複雜度：O(n)  
空間複雜度：O(1)

#### 程式碼
- Javascript
```js
var maxProfit = function (prices) {
    let profit = 0
    for (let i = 1; i < prices.length; i++) {
        const earn = prices[i] - prices[i-1]
        if (earn > 0) profit += earn
    }
    return profit
};
```
